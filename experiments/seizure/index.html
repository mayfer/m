<!doctype html>
<html>
	<head>
		<title>TV Static</title>
        <script src='jquery-1.10.2.min.js'></script>
		<script src="tvstatic.js"></script>
		<script>
		window.requestAnimFrame = window.requestAnimationFrame       ||
					  window.webkitRequestAnimationFrame ||
					  window.mozRequestAnimationFrame    ||
					  window.oRequestAnimationFrame      ||
					  window.msRequestAnimationFrame     ||
					  function(callback){
						window.setTimeout(callback, 1000 / 60);
					  };

		var canvas, ctx, frame;
		window.addEventListener('load', load, false);
		window.addEventListener('resize', resize, false);
		function load() {
			canvas = document.getElementById('canvas');
			ctx = canvas.getContext('2d');
			ctx.fillStyle = '#000';
			resize();
            frame = 0;
            window.animation = tvstatic(canvas, ctx);
			window.requestAnimFrame(render);
		}

		function resize() {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
		}

		function render() {
            if(frame%1 == 0) {
                window.animation.draw(canvas, ctx);
            }
            frame++;
            window.requestAnimFrame(render);
		}
		</script>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			html, body {
				width: 100%;
				height: 100%;
			}
			#canvas {
				display: block;
				z-index: 2;
				content: "";
			}
		</style>
	</head>
	<body>
		<canvas id="canvas"></canvas>
	</body>
</html>
